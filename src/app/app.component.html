<div>
  <form [formGroup]="form">
    <input
      type="text"
      pInputText
      placeholder="text..."
      minlength="2"
      maxlength="10"
      required
      formControlName="title"
      type="text"
    />
    <p-button
      label="Create Todo"
      [disabled]="form.controls['title'].invalid"
      (onClick)="addTodo()"
    ></p-button>
  </form>
  <div *ngIf="form.controls['title'].invalid && (form.controls['title'].dirty || form.controls['title'].touched)">
    <div *ngIf="form.controls['title'].hasError('minlength')">
      <small class="p-error">
        Мин длина 2 символа
      </small>
    </div>
    <div *ngIf="form.controls['title'].hasError('required')">
      <small class="p-error">
        Поле должно быть заполнено
      </small>
    </div>
  </div>
  <div class="card">
    <p-table [value]="todos" [tableStyle]="{ 'max-width': '100%' }">
      <ng-template pTemplate="header">
        <tr>
          <th>Todo</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-todo let-rowIndex="rowIndex">
        <tr>
          <td>{{ rowIndex + 1 + ")" }} {{ todo.title }}</td>
          <td></td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
